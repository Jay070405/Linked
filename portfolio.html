<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>作品集 - Shijie Lin</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* 作品集页面特定样式 */
        body {
            background-color: #1a1a1a;
            overflow-x: hidden;
        }
        
        .portfolio-page-header {
            height: 30vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            margin-bottom: 2rem;
            background: linear-gradient(135deg, rgba(20, 20, 22, 0.9), rgba(30, 30, 35, 0.8));
        }
        
        .portfolio-page-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('image/personal/world tree.png');
            background-size: cover;
            background-position: center;
            opacity: 0.1;
            z-index: -1;
        }
        
        .portfolio-page-title {
            font-size: 4rem;
            color: transparent;
            background: linear-gradient(120deg, 
                var(--primary-dark) 0%,
                var(--primary) 25%,
                var(--primary-light) 50%,
                var(--primary) 75%,
                var(--primary-dark) 100%);
            background-size: 200% auto;
            -webkit-background-clip: text;
            background-clip: text;
            animation: shine 3s linear infinite;
            font-family: var(--heading-font);
            font-weight: 600;
            letter-spacing: 6px;
            text-transform: uppercase;
            text-align: center;
            position: relative;
        }
        
        .portfolio-page-title::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 2px;
            background: linear-gradient(90deg, 
                transparent,
                var(--primary),
                transparent
            );
        }
        
        .back-to-home {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: rgba(30, 30, 35, 0.7);
            color: var(--primary-light);
            padding: 1rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(137, 207, 240, 0.3);
            transition: all 0.3s ease;
            z-index: 100;
        }
        
        .back-to-home:hover {
            transform: translateY(-5px);
            background: rgba(137, 207, 240, 0.2);
            box-shadow: 0 8px 20px rgba(137, 207, 240, 0.4);
        }
        
        .back-to-home i {
            font-size: 1.5rem;
        }
    </style>
</head>
<body>
    <!-- 导航栏 -->
    <nav>
        <div class="nav-container">
            <div class="logo">Shijie Lin</div>
            <!-- 添加语言切换按钮 -->
            <div class="language-selector">
                <button class="lang-btn active" data-lang="zh">中</button>
                <button class="lang-btn" data-lang="en">En</button>
            </div>
            <!-- 添加汉堡菜单按钮 -->
            <div class="hamburger-menu">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <ul class="nav-links">
                <li><a href="index.html" data-translate="nav-home">首页</a></li>
                <li><a href="about.html" data-translate="nav-about">关于我</a></li>
                <li><a href="portfolio.html" class="active" data-translate="nav-portfolio">作品集</a></li>
                <li><a href="contact.html" data-translate="nav-contact">联系方式</a></li>
                <li class="resume-links">
                    <a href="resume/简历 中文.pdf" target="_blank" data-translate="resume-cn">简历(中文)</a>
                    <a href="resume/简历 _1_ (1).pdf" target="_blank" data-translate="resume-en">Resume(EN)</a>
                </li>
            </ul>
        </div>
    </nav>
    <!-- 添加菜单背景遮罩 -->
    <div class="menu-overlay"></div>

    <!-- 页面标题 -->
    <header class="portfolio-page-header">
        <h1 class="portfolio-page-title" data-translate="portfolio-title">作品集</h1>
    </header>

    <!-- 作品集部分 -->
    <section class="portfolio">
        <div class="portfolio-tabs">
            <button class="portfolio-tab active" data-category="all" data-translate="tab-all">全部</button>
            <button class="portfolio-tab" data-category="personal" data-translate="tab-personal">个人作品</button>
            <button class="portfolio-tab" data-category="school" data-translate="tab-school">学校作品</button>
            <button class="portfolio-tab" data-category="sketch" data-translate="tab-sketch">速写</button>
        </div>
        
        <div class="portfolio-grid">
            <!-- 个人作品项目 -->
            <div class="portfolio-item" data-category="all personal">
                <span class="portfolio-number">1</span>
                <img src="image/personal/artist (1).png" alt="艺术家">
                <div class="portfolio-overlay">
                    <h3 data-translate="artist-title">艺术家</h3>
                    <p data-translate="artist-desc">原创角色设计</p>
                </div>
            </div>
            
            <div class="portfolio-item" data-category="all personal">
                <span class="portfolio-number">2</span>
                <img src="image/personal/personal project.jpg" alt="未知新球">
                <div class="portfolio-overlay">
                    <h3 data-translate="unknown-sphere-title">未知新球</h3>
                    <p data-translate="unknown-sphere-desc">未来科技概念场景</p>
                </div>
            </div>
            
            <div class="portfolio-item" data-category="all personal">
                <span class="portfolio-number">3</span>
                <img src="image/personal/sakura-villege.png" alt="樱花村">
                <div class="portfolio-overlay">
                    <h3 data-translate="sakura-village-title">樱花村</h3>
                    <p data-translate="sakura-village-desc">环境概念设计</p>
                </div>
            </div>
            
            <div class="portfolio-item" data-category="all personal">
                <span class="portfolio-number">4</span>
                <img src="image/personal/world tree.png" alt="世界树">
                <div class="portfolio-overlay">
                    <h3 data-translate="world-tree-title">世界树</h3>
                    <p data-translate="world-tree-desc">概念设计</p>
                </div>
            </div>
            
            <div class="portfolio-item" data-category="all personal">
                <span class="portfolio-number">5</span>
                <img src="image/personal/寺庙草稿.jpg" alt="寺庙">
                <div class="portfolio-overlay">
                    <h3 data-translate="temple-title">寺庙</h3>
                    <p data-translate="temple-desc">建筑概念设计</p>
                </div>
            </div>
            
            <!-- 添加三个新的作品项目 -->
            <div class="portfolio-item" data-category="all personal">
                <span class="portfolio-number">6</span>
                <img src="image/personal/废弃小镇.png" alt="废弃小镇">
                <div class="portfolio-overlay">
                    <h3 data-translate="abandoned-town-title">废弃小镇</h3>
                    <p data-translate="abandoned-town-desc">个人概念设计作品</p>
                </div>
            </div>

            <div class="portfolio-item" data-category="all personal">
                <span class="portfolio-number">8</span>
                <img src="image/personal/森林.png" alt="森林">
                <div class="portfolio-overlay">
                    <h3 data-translate="mysterious-forest-title">神秘森林</h3>
                    <p data-translate="mysterious-forest-desc">个人环境设计作品</p>
                </div>
            </div>
            
            <!-- 学校作品项目 -->
            <div class="portfolio-item" data-category="all school">
                <span class="portfolio-number">9</span>
                <img src="image/school/vis_dev_character.png" alt="视觉开发全集">
                <div class="portfolio-overlay">
                    <h3 data-translate="vis-dev-title">视觉开发全集</h3>
                    <p data-translate="vis-dev-desc">角色、道具与环境</p>
                </div>
            </div>
            
            <!-- 交换10和17的位置 -->
            <div class="portfolio-item process-showcase" data-category="all school">
                <span class="portfolio-number">10</span>
                <img src="image/school/creative prespetvie.png" alt="创意透视流程">
                <div class="portfolio-overlay">
                    <h3 data-translate="creative-perspective-title">创意透视流程</h3>
                    <p data-translate="creative-perspective-desc">从草图到最终作品</p>
                </div>
            </div>

            <!-- 交换11和16的位置 -->
            <div class="portfolio-item" data-category="all school">
                <span class="portfolio-number">11</span>
                <img src="image/school/sketching for entd.png" alt="角色素描">
                <div class="portfolio-overlay">
                    <h3 data-translate="character-sketch-title">角色素描</h3>
                    <p data-translate="character-sketch-desc">设计与动作表情研究</p>
                </div>
            </div>
            
            <div class="portfolio-item" data-category="all school">
                <span class="portfolio-number">12</span>
                <img src="image/school/24FA_MonBGptg_Wk12_v02_Jay.png" alt="背景绘画">
                <div class="portfolio-overlay">
                    <h3 data-translate="bg-painting-title">背景绘画</h3>
                    <p data-translate="bg-painting-desc">ArtCenter 课程作业</p>
                </div>
            </div>
            
            <div class="portfolio-item" data-category="all school">
                <span class="portfolio-number">13</span>
                <img src="image/school/Screenshot 2025-03-01 212506.png" alt="创意透视">
                <div class="portfolio-overlay">
                    <h3 data-translate="creative-perspective-simple-title">创意透视</h3>
                    <p data-translate="creative-perspective-simple-desc">环境设计课程作业</p>
                </div>
            </div>
            
            <div class="portfolio-item" data-category="all school">
                <span class="portfolio-number">14</span>
                <div class="video-container">
                    <video src="image/school/maya.mp4" alt="Maya 3D建模" poster="image/school/maya.png" muted></video>
                    <div class="play-icon">
                        <i class="fas fa-play-circle"></i>
                    </div>
                </div>
                <div class="portfolio-overlay">
                    <h3 data-translate="maya-3d-title">Maya 3D建模</h3>
                    <p data-translate="maya-3d-desc">3D建模课程作业</p>
                </div>
            </div>
            
            <div class="portfolio-item" data-category="all school">
                <span class="portfolio-number">15</span>
                <img src="image/school/vis dev.jpg" alt="视觉开发">
                <div class="portfolio-overlay">
                    <h3 data-translate="vis-dev-simple-title">视觉开发</h3>
                    <p data-translate="vis-dev-simple-desc">视觉开发课程作业</p>
                </div>
            </div>

            <div class="portfolio-item" data-category="all school">
                <span class="portfolio-number">16</span>
                <img src="image/school/cat diary (1).png" alt="猫咪日记">
                <div class="portfolio-overlay">
                    <h3 data-translate="cat-diary-title">猫咪日记</h3>
                    <p data-translate="cat-diary-desc">角色设计课程作业</p>
                </div>
            </div>

            <div class="portfolio-item" data-category="all school">
                <span class="portfolio-number">17</span>
                <img src="image/school/class_work photoshop fundomental.png" alt="Photoshop基础">
                <div class="portfolio-overlay">
                    <h3 data-translate="photoshop-basics-title">Photoshop基础</h3>
                    <p data-translate="photoshop-basics-desc">数字绘画课程作业</p>
                </div>
            </div>
            
            <!-- 速写视频，只在点击速写时显示 -->
            <div class="portfolio-item" data-category="sketch">
                <span class="portfolio-number">18</span>
                <div class="video-container">
                    <video src="image/sketch/sketch (1) (1).mp4" alt="速写视频1" poster="image/sketch/sketch (1) (1).mp4#t=99999" muted></video>
                    <div class="play-icon">
                        <i class="fas fa-play-circle"></i>
                    </div>
                </div>
                <div class="portfolio-overlay">
                    <h3 data-translate="sketch-video1-title">速写过程1</h3>
                    <p data-translate="sketch-video1-desc">创作过程记录</p>
                </div>
            </div>
            
            <div class="portfolio-item" data-category="sketch">
                <span class="portfolio-number">19</span>
                <div class="video-container">
                    <video src="image/sketch/sketch (2).mp4" alt="速写视频2" poster="image/sketch/sketch (2).mp4#t=99999" muted></video>
                    <div class="play-icon">
                        <i class="fas fa-play-circle"></i>
                    </div>
                </div>
                <div class="portfolio-overlay">
                    <h3 data-translate="sketch-video2-title">速写过程2</h3>
                    <p data-translate="sketch-video2-desc">创作过程记录</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 返回首页按钮 -->
    <a href="index.html" class="back-to-home" title="返回主页" data-translate="back-home">
        <i class="fas fa-home"></i>
    </a>

    <!-- 添加鼠标发光效果 -->
    <div class="cursor-glow"></div>

    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 标记已经看过开场动画
            sessionStorage.setItem('hasSeenIntro', 'true');
            
            // 创建发光元素
            const cursor = document.createElement('div');
            cursor.className = 'cursor-glow';
            document.body.appendChild(cursor);

            // 跟踪鼠标移动
            document.addEventListener('mousemove', (e) => {
                cursor.style.left = e.clientX + 'px';
                cursor.style.top = e.clientY + 'px';
            });

            // 鼠标进入可点击元素时的效果
            document.querySelectorAll('a, button').forEach(elem => {
                elem.addEventListener('mouseenter', () => {
                    cursor.classList.add('active');
                });
                elem.addEventListener('mouseleave', () => {
                    cursor.classList.remove('active');
                });
            });
            
            // 作品项目点击事件
            const portfolioItems = document.querySelectorAll('.portfolio-item');
            portfolioItems.forEach(item => {
                item.addEventListener('click', function() {
                    // 获取当前语言
                    const currentLang = localStorage.getItem('lang') || 'zh';
                    console.log("Current language detected: ", currentLang);
                    
                    const imgSrc = this.querySelector('img')?.src || this.querySelector('video')?.src;
                    const imgAlt = this.querySelector('img')?.alt || this.querySelector('video')?.alt;
                    const title = this.querySelector('.portfolio-overlay h3').textContent;
                    const desc = this.querySelector('.portfolio-overlay p').textContent;
                    
                    // 调用自定义的openModalWithLang函数，确保语言设置正确
                    openModalWithLang(imgSrc, imgAlt, title, desc, currentLang);
                });
                
                // 添加cursor-pointer类以显示点击效果
                item.classList.add('cursor-pointer');
            });
            
            // 作品集筛选功能
            const portfolioTabs = document.querySelectorAll('.portfolio-tab');
            
            portfolioTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // 移除所有标签的活动状态
                    portfolioTabs.forEach(t => t.classList.remove('active'));
                    // 为当前点击的标签添加活动状态
                    tab.classList.add('active');
                    
                    // 获取当前分类
                    const category = tab.getAttribute('data-category');
                    
                    // 对每个作品项目进行筛选
                    portfolioItems.forEach(item => {
                        // 获取项目的分类
                        const itemCategories = item.getAttribute('data-category').split(' ');
                        
                        // 如果当前筛选是"全部"，或者项目包含当前分类，则显示，否则隐藏
                        if (category === 'all' || itemCategories.includes(category)) {
                            item.style.display = 'block';
                            // 使用setTimeout延迟添加可见类，以便有淡入效果
                            setTimeout(() => {
                                item.classList.add('visible');
                            }, 50);
                        } else {
                            item.classList.remove('visible');
                            // 使用setTimeout延迟隐藏，以便有淡出效果
                            setTimeout(() => {
                                item.style.display = 'none';
                            }, 300);
                        }
                    });
                });
            });
            
            // 视频播放功能
            const videos = document.querySelectorAll('.video-container video');
            
            videos.forEach(video => {
                const container = video.closest('.video-container');
                const playIcon = container.querySelector('.play-icon');
                
                container.addEventListener('click', () => {
                    if (video.paused) {
                        // 停止所有其他视频
                        videos.forEach(v => {
                            if (v !== video && !v.paused) {
                                v.pause();
                                const vContainer = v.closest('.video-container');
                                vContainer.querySelector('.play-icon').style.opacity = '1';
                            }
                        });
                        
                        // 播放当前视频
                        video.play();
                        playIcon.style.opacity = '0';
                    } else {
                        // 暂停当前视频
                        video.pause();
                        playIcon.style.opacity = '1';
                    }
                });
                
                // 视频结束后，显示播放图标
                video.addEventListener('ended', () => {
                    playIcon.style.opacity = '1';
                });
            });
            
            // 汉堡菜单功能
            const hamburgerMenu = document.querySelector('.hamburger-menu');
            const navLinks = document.querySelector('.nav-links');
            const menuOverlay = document.querySelector('.menu-overlay');
            
            if (hamburgerMenu) {
                hamburgerMenu.addEventListener('click', function() {
                    console.log('汉堡菜单被点击');
                    // 切换汉堡菜单激活状态
                    this.classList.toggle('active');
                    // 切换导航菜单显示状态
                    navLinks.classList.toggle('active');
                    // 切换背景遮罩
                    if (menuOverlay) {
                        menuOverlay.classList.toggle('active');
                    }
                    // 防止滚动
                    if (navLinks.classList.contains('active')) {
                        document.body.style.overflow = 'hidden';
                    } else {
                        document.body.style.overflow = '';
                    }
                });
            }
            
            // 点击遮罩关闭菜单
            if (menuOverlay) {
                menuOverlay.addEventListener('click', function() {
                    if (hamburgerMenu) hamburgerMenu.classList.remove('active');
                    if (navLinks) navLinks.classList.remove('active');
                    this.classList.remove('active');
                    document.body.style.overflow = '';
                });
            }
            
            // 点击导航链接关闭菜单
            const navItems = document.querySelectorAll('.nav-links a');
            navItems.forEach(item => {
                item.addEventListener('click', function() {
                    if (hamburgerMenu) hamburgerMenu.classList.remove('active');
                    if (navLinks) navLinks.classList.remove('active');
                    if (menuOverlay) menuOverlay.classList.remove('active');
                    document.body.style.overflow = '';
                });
            });
        });
        
        // 自定义函数，确保语言设置正确后再调用原始的openModal
        function openModalWithLang(imageSrc, imageAlt, title, description, lang) {
            // 确保lang有效，默认为'zh'
            const currentLang = lang || 'zh';
            console.log("Opening modal with language:", currentLang);
            
            // 强制更新localStorage中的语言设置（以防万一）
            localStorage.setItem('lang', currentLang);
            
            // 然后调用原始的openModal函数
            openModal(imageSrc, imageAlt, title, description);
        }
    </script>

    <!-- 项目详情模态框 -->
    <div class="project-modal" id="projectModal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-body">
                <h2 class="modal-title" data-translate="project-details">项目详情</h2>
                <div id="modalGallery" class="modal-gallery"></div>
                <div id="modalDescription" class="modal-description"></div>
            </div>
        </div>
    </div>
    
    <!-- 英文项目详情模态框 -->
    <div class="project-modal" id="enProjectModal" style="display: none;">
        <div class="modal-content">
            <span class="close-modal" onclick="document.getElementById('enProjectModal').style.display='none';">&times;</span>
            <div class="modal-body">
                <h2 class="modal-title">Project Details (English)</h2>
                <div id="enModalGallery" class="modal-gallery">
                    <!-- 图片/视频在这里动态加载 -->
                </div>
                <div id="enModalDescription" class="modal-description">
                    <!-- 英文项目描述在这里动态加载 -->
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <button onclick="document.getElementById('enProjectModal').style.display='none'; document.getElementById('projectModal').style.display='flex';" style="padding: 8px 15px; background: #2a2a2a; color: #fff; border: 1px solid #555; border-radius: 4px; cursor: pointer;">
                        返回中文版 / Back to Chinese
                    </button>
                </div>
            </div>
        </div>
    </div>
</body>
</html> 